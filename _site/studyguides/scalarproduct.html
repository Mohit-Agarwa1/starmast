<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Isabella Lewis">

<title>STARMAST - The Scalar Product</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../webexfiles/webex.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">STARMAST</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html" rel="" target="">
 <span class="menu-text">About STARMAST</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-the-scalar-product" id="toc-what-is-the-scalar-product" class="nav-link active" data-scroll-target="#what-is-the-scalar-product">What is the scalar product?</a></li>
  <li><a href="#properties-of-the-scalar-product" id="toc-properties-of-the-scalar-product" class="nav-link" data-scroll-target="#properties-of-the-scalar-product">Properties of the scalar product</a></li>
  <li><a href="#proof-of-commutativity" id="toc-proof-of-commutativity" class="nav-link" data-scroll-target="#proof-of-commutativity">Proof of commutativity</a></li>
  <li><a href="#the-geometric-interpretation" id="toc-the-geometric-interpretation" class="nav-link" data-scroll-target="#the-geometric-interpretation">The Geometric Interpretation</a></li>
  <li><a href="#special-cases" id="toc-special-cases" class="nav-link" data-scroll-target="#special-cases">Special Casesâ€¦</a></li>
  <li><a href="#the-scalar-product-of-perpendicular-vectors" id="toc-the-scalar-product-of-perpendicular-vectors" class="nav-link" data-scroll-target="#the-scalar-product-of-perpendicular-vectors">The scalar product of perpendicular vectors</a></li>
  <li><a href="#quick-check-problems" id="toc-quick-check-problems" class="nav-link" data-scroll-target="#quick-check-problems">Quick check problems</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="scalarproduct.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li><li><a href="scalarproduct.docx"><i class="bi bi-file-word"></i>MS Word</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The Scalar Product</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Isabella Lewis </p>
          </div>
  </div>
    
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="abstract-title">Summary</div>
    Calulcating the scalar product, interpreting it geometrically and being careful of certain special cases are all important steps in working with vectors.
  </div>
</div>

</header>

<p><em>Before reading this guide, it is recommended that you read (Guide: Introduction to Vectors, Guide: Vector Addition and Scalar Multiplication and Guide: Sigma Notation).</em></p>
<section id="what-is-the-scalar-product" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="what-is-the-scalar-product">What is the scalar product?</h2>
<p>When working with vectors, you want to be able to combine them in order to solve vector-related problems. The <strong>scalar product</strong> (named as such since the result is a scalar), also known as the <strong>dot product</strong> (due to the symbol for the operation), gives you one way of doing this. The scalar product can tell you how much two vectors are aligned and can be used to find the angle between them.<br>
It also has applications in applied mathematics and physics.</p>
<p>This guide will give both the algebraic and geometric definition of the scalar product, display certain properties of the operation and bring awareness to special cases that arise.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Algebraic definition of the scalar product
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let <span class="math inline">\(\mathbf{u}= \begin{pmatrix}u_1\\ \vdots \\u_n\end{pmatrix}\)</span> and <span class="math inline">\(\mathbf{v} =\begin{pmatrix}v_1\\ \vdots \\v_n\end{pmatrix}\)</span>, then the <strong>scalar product</strong>, denoted <span class="math inline">\(\mathbf{u} \cdot \mathbf{v}\)</span>, is defined as follows:</p>
<p><span class="math display">\[\mathbf{u} \cdot \mathbf{v} = \begin{pmatrix}u_1\\ \vdots \\u_n\end{pmatrix}\cdot\begin{pmatrix}v_1\\ \vdots \\v_n\end{pmatrix} = u_1v_1 + u_2v_2 + ... + u_nv_n \]</span></p>
<p>This may also be written, using sigma notation, as <span class="math display">\[\mathbf{u} \cdot \mathbf{v} = \sum^n_{i=1}\,u_i v_i\]</span></p>
</div>
</div>
<p>As the name suggests, the scalar product of two vectors is a scalar. It is important to be able to calculate the scalar product of vectors of all dimensions.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
WARNING
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vectors must have the same dimension to have a scalar product.</p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 1
</div>
</div>
<div class="callout-body-container callout-body">
<p>Take <span class="math inline">\(\mathbf{u}=\begin{pmatrix}3\\5\\1\end{pmatrix}\)</span> and <span class="math inline">\(\mathbf{v} =\begin{pmatrix}2\\7\\2\end{pmatrix}\)</span>, then the scalar product is <span class="math display">\[\begin{pmatrix}3\\ 5 \\1\end{pmatrix}\cdot\begin{pmatrix}2\\ 7 \\2\end{pmatrix} = (3)(2) + (5)(7) + (1)(2) = 6+35+2 = 43\]</span></p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 2
</div>
</div>
<div class="callout-body-container callout-body">
<p>Take <span class="math inline">\(\mathbf{u}=\begin{pmatrix}10\\13\\3\\2\end{pmatrix}\)</span> and <span class="math inline">\(\mathbf{v} =\begin{pmatrix}5\\1\\20\\1\end{pmatrix}\)</span>, then the scalar product is <span class="math display">\[\begin{pmatrix}10\\ 13 \\3\\2\end{pmatrix}\cdot\begin{pmatrix}5\\ 1 \\20\\1\end{pmatrix} = (10)(5)+(13)(1)+(3)(20)+(2)(1)=50+13+60+2 = 125 \]</span></p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 3
</div>
</div>
<div class="callout-body-container callout-body">
<p>Take <span class="math inline">\(\mathbf{u}=\begin{pmatrix}-1\\7\\1\end{pmatrix}\)</span> and <span class="math inline">\(\mathbf{v} =\begin{pmatrix}-1\\-1\\2\end{pmatrix}\)</span>, then the scalar product is <span class="math display">\[\begin{pmatrix}-1\\ 7 \\1\end{pmatrix}\cdot\begin{pmatrix}-1\\ -1 \\2\end{pmatrix} = (-1)(-1) + (7)(-1) + (1)(2) = 1-7+2 = -4\]</span></p>
</div>
</div>
<p>You can also take the scalar product of vectors in cartesian form.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 4
</div>
</div>
<div class="callout-body-container callout-body">
<p>Take <span class="math inline">\(\mathbf{u}=4\mathbf{i}+2\mathbf{j}+\mathbf{k}\)</span> and <span class="math inline">\(\mathbf{v}=\mathbf{i}-\mathbf{j}+3\mathbf{k}\)</span>, then <span class="math display">\[\mathbf{u}\cdot\mathbf{v}=(4\mathbf{i}+2\mathbf{j}+\mathbf{k})\cdot(\mathbf{i}-\mathbf{j}+3\mathbf{k})=(4)(1)+(2)(-1)+(1)(3)=5\]</span></p>
</div>
</div>
</section>
<section id="properties-of-the-scalar-product" class="level2">
<h2 class="anchored" data-anchor-id="properties-of-the-scalar-product">Properties of the scalar product</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition of Commutative, Distributive
</div>
</div>
<div class="callout-body-container callout-body">
<p>An operation is <strong>commutative</strong> if it gives the same result whatever order the values are in. For example, <span class="math inline">\(ab = ba\)</span>, so multiplication is commutative.</p>
<p>An operation is <strong>distributive</strong> (under addition) if <span class="math inline">\(a (b+c)=(ab)+(ac)\)</span>.</p>
</div>
</div>
<p>The scalar product has some nice properties:<br>
</p>
<ol type="a">
<li>The scalar product of a vector with itself is the square of its magnitude:</li>
</ol>
<p><span class="math display">\[\mathbf{u}\cdot\mathbf{u}=|\mathbf{u}|^2\]</span><br>
</p>
<ol start="2" type="a">
<li>Multiplying a vector, <span class="math inline">\(\mathbf{u}\)</span> by a scalar, c, multiplies its scalar product with another vector, <span class="math inline">\(\mathbf{v}\)</span> by the same scalar, c:</li>
</ol>
<p><span class="math display">\[(c\mathbf{u})\cdot\mathbf{v}=c(\mathbf{u}\cdot\mathbf{v})\]</span></p>
<ol start="3" type="a">
<li><p>The scalar product of a vector, <span class="math inline">\(\mathbf{u}\)</span> with the zero vector, <span class="math inline">\(\mathbf{0}\)</span> is 0: <span class="math display">\[\mathbf{u}\cdot\mathbf{0}=0\]</span></p></li>
<li><p>The scalar product is <strong>commutative</strong>: <span class="math display">\[\mathbf{u}\cdot\mathbf{v}=\mathbf{v}\cdot\mathbf{u}\]</span></p></li>
<li><p>The scalar product is <strong>distributive</strong>: <span class="math display">\[\mathbf{u}\cdot (\mathbf{v}+\mathbf{w}) = \mathbf{u}\cdot\mathbf{v}+\mathbf{u}\cdot\mathbf{w}\]</span></p></li>
</ol>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 5
</div>
</div>
<div class="callout-body-container callout-body">
<p>Take <span class="math inline">\(\mathbf{u}=\begin{pmatrix}3\\5\\1\end{pmatrix}\)</span> and <span class="math inline">\(\mathbf{v} =\begin{pmatrix}2\\7\\2\end{pmatrix}\)</span>, as in example 1. Then you know <span class="math display">\[\mathbf{u}\cdot\mathbf{v}= 43 \]</span>. Also, <span class="math display">\[\mathbf{v}\cdot\mathbf{u}=\begin{pmatrix}2\\7\\2\end{pmatrix}\cdot\begin{pmatrix}3\\5\\1\end{pmatrix}=(2)(3)+(7)(5)+(2)(1)=6+35+2=43\]</span> So, <span class="math inline">\(\mathbf{u}\cdot\mathbf{v}=\mathbf{v}\cdot\mathbf{u}\)</span>, that is, commutative.</p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 6
</div>
</div>
<div class="callout-body-container callout-body">
<p>Take <span class="math inline">\(\mathbf{u}=\begin{pmatrix}14\\2\\100\end{pmatrix}\)</span>, then <span class="math display">\[\mathbf{u}\cdot\mathbf{u}=14^2+2^2+100^2=10200\]</span> and, the magnitude is <span class="math display">\[|\mathbf{u}|=\sqrt{14^2+2^2+100^2}=\sqrt{10200}\]</span> and so, <span class="math display">\[|\mathbf{u}|^2=\mathbf{u}\cdot\mathbf{u}\]</span></p>
</div>
</div>
</section>
<section id="proof-of-commutativity" class="level2">
<h2 class="anchored" data-anchor-id="proof-of-commutativity">Proof of commutativity</h2>
<p>Youâ€™ve just seen one example showing that the scalar product is commutative. How about for all vectors? Let <span class="math inline">\(\mathbf{u} = \begin{pmatrix}u_1\\ \vdots \\u_n\end{pmatrix}\)</span> and <span class="math inline">\(\mathbf{v} =\begin{pmatrix}v_1\\ \vdots \\v_n\end{pmatrix}\)</span>, then <span class="math display">\[\mathbf{u} \cdot \mathbf{v} = \begin{pmatrix}u_1\\ \vdots \\u_n\end{pmatrix}\cdot\begin{pmatrix}v_1\\ \vdots \\v_n\end{pmatrix} = u_1v_1 + u_2v_2 + ... + u_nv_n = v_1u_1 + v_2u_2+...+v_nu_n\]</span>&nbsp;since multiplication is commutative (that is <span class="math inline">\(u_1v_1=v_1u_1\)</span>). And, <span class="math display">\[\mathbf{v} \cdot \mathbf{u}=\begin{pmatrix}v_1\\ \vdots \\v_n\end{pmatrix}\cdot\begin{pmatrix}u_1\\ \vdots \\u_n\end{pmatrix}=v_1u_1 + v_2u_2+...+v_nu_n=\mathbf{u}\cdot\mathbf{v}\]</span> Hence, the scalar product is commutative.</p>
</section>
<section id="the-geometric-interpretation" class="level2">
<h2 class="anchored" data-anchor-id="the-geometric-interpretation">The Geometric Interpretation</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Geometric defintion of the Scalar Product
</div>
</div>
<div class="callout-body-container callout-body">
<p>The scalar product can also be defined as follows: <span class="math display">\[\mathbf{u}\cdot\mathbf{v}=|\mathbf{u}||\mathbf{v}|\cos(\psi)\]</span></p>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
WARNING
</div>
</div>
<div class="callout-body-container callout-body">
<p>In the above, the vectors cannot be <strong>anti-parallel</strong> or <strong>parallel</strong> and must be of non-zero length. The special cases in which they do not follow these conditions are dealt with below.</p>
</div>
</div>
<p>Having seen the geometric definition of the scalar product, you may now be wondering about where it comes from and its interpretation. You have the definitions, but how do these relate to the vectors youâ€™re taking the scalar product of? Take two arbitrary vectors <span class="math inline">\(\mathbf{u}\)</span> and <span class="math inline">\(\mathbf{v}\)</span>. Place their base at the same point. Call this base point A. Consider the plane formed by the tip of <span class="math inline">\(\mathbf{u}\)</span> (at point B) and formed at the tip of <span class="math inline">\(\mathbf{v}\)</span> (at point C). The points A,B,C form a plane. Now, let a be the length of <span class="math inline">\(\mathbf{u}\)</span>, b be the length of <span class="math inline">\(\mathbf{v}\)</span> and c be the length of <span class="math inline">\(\mathbf{v-u}\)</span>, like in the diagram below.</p>
<div id="fig-4" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><embed src="./FiguresPNG/Figure 1.pdf" class="img-fluid" style="width:150.0%" alt="Two triangles side by side on separate diagrams. The first shows the vectors u and v. u is horizontal and v start from the same place as u and is above. v-u is labelled and is the line joining the 2 vectors lines, making it a triangles. The second shows the same traingle, but instead labels the sides as the corresponding lengths, a,b,c and also labels h,$\psi$ and x."></p>
<figcaption class="figure-caption">Figure&nbsp;1: Geometric interpretation of the Scalar Product, showing the vectors v and u and their difference and a triangle with the corresponding lengths.</figcaption>
</figure>
</div>
<p>Using trigonometry, the height of the triangle in figure 1 is <span class="math inline">\(h=b\sin(\psi)\)</span>. Looking at the diagram again, <span class="math inline">\(l=b\cos(\psi)\)</span> and <span class="math display">\[x=a-l=a-b\cos(\psi)\]</span> Using Pythagorasâ€™s theorem, <span class="math display">\[h^2+x^2=c^2\]</span> <span class="math display">\[b^2\sin^2(\psi)+(a-b\cos(\psi))^2=c^2=|\mathbf{v}-\mathbf{u}|^2\]</span> (the length of <span class="math inline">\(\mathbf{v}-\mathbf{u})\)</span>. Expanding out the brackets on the left hand side obtains <span class="math display">\[b^2-2ab\cos(\psi)+a^2=|\mathbf{v}-\mathbf{u}|^2\]</span> Using property (a) from above: <span class="math display">\[|\mathbf{v}-\mathbf{u}|^2=(\mathbf{v}-\mathbf{u})\cdot(\mathbf{v}-\mathbf{u})\]</span> Also, by distributivity and property (a), <span class="math display">\[(\mathbf{v}-\mathbf{u})\cdot(\mathbf{v}-\mathbf{u})=\mathbf{v}\cdot\mathbf{v}-2\mathbf{u}\cdot\mathbf{v}+\mathbf{u}\cdot\mathbf{u} = |\mathbf{v}|^2-2\mathbf{u}\cdot\mathbf{v}+|\mathbf{u}|^2\]</span> Recall from above that <span class="math inline">\(|\mathbf{u}|^2=a\)</span> and <span class="math inline">\(|\mathbf{v}|^2=b\)</span>, then <span class="math display">\[b^2-2ab\cos(\psi)+a^2=b^2-2\mathbf{u}\cdot\mathbf{v}+a^2\]</span> Cancelling the terms <span class="math inline">\(a^2\)</span> and <span class="math inline">\(b^2\)</span>, <span class="math display">\[ab\cos(\psi)=\mathbf{u}\cdot\mathbf{v}\]</span> So, <span class="math display">\[\cos(\psi)={\frac{(\mathbf{u}\cdot\mathbf{v})}{(ab)}}={\frac{(\mathbf{u}\cdot\mathbf{v})}{(|\mathbf{u}||\mathbf{v}|)}}\]</span> So, in geometric terms, the above derivation tells you that the scalar product between two vectors is the product of their magnitudes multiplied by the angle between them.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 7
</div>
</div>
<div class="callout-body-container callout-body">
<p>Take <span class="math inline">\(\mathbf{u}=\begin{pmatrix}3\\5\\1\end{pmatrix}\)</span> and <span class="math inline">\(\mathbf{v} =\begin{pmatrix}2\\7\\2\end{pmatrix}\)</span>, as in Example 1. It was calculated then that the scalar product is 43. So, you can use the above definition to calculate the angle, <span class="math inline">\(\psi\)</span> between the two vectors.</p>
<p><span class="math display">\[\cos(\psi)=\frac{\mathbf{u}\cdot\mathbf{v}}{|\mathbf{u}||\mathbf{v}|}=\frac{43}{(\sqrt{3^2+5^2+1^2})(\sqrt{2^2+7^2+2^2})}=\frac{43}{(\sqrt{35})(\sqrt57)}\approx{0.96}\]</span> So, <span class="math inline">\(cos(\psi)\approx{0.96}\)</span> and hence, <span class="math inline">\(\psi=\cos^{-1}(0.96)\approx{15.7^\circ}\)</span></p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 8
</div>
</div>
<div class="callout-body-container callout-body">
<p>Take <span class="math inline">\(\mathbf{u}=4\mathbf{i}+2\mathbf{j}+\mathbf{k}\)</span> and <span class="math inline">\(\mathbf{v}=\mathbf{i}-\mathbf{j}+3\mathbf{k}\)</span>, as in Example 4. It was calculated then that the scalar product between them is 5. So, the angle between them can be calculated as follows: <span class="math display">\[\cos(\psi)=\frac{\mathbf{u}\cdot\mathbf{v}}{|\mathbf{u}||\mathbf{v}|}=\frac{5}{(\sqrt{4^2+2^2+1^2})(\sqrt{1^2+(-1)^2+3^2})}=\frac{5}{(\sqrt{21})(\sqrt{11})}\approx{0.33}\]</span> <span class="math display">\[\psi\approx{\cos^{-1}(0.33)}\approx{71^\circ}\]</span></p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
IMPORTANT
</div>
</div>
<div class="callout-body-container callout-body">
<p>The scalar product can be a negative number! All this means is that the angle is between <span class="math inline">\(90^\circ\)</span> or <span class="math inline">\(270^\circ\)</span> exclusively, or one vector is in the opposite direction to the other.</p>
</div>
</div>
</section>
<section id="special-cases" class="level2">
<h2 class="anchored" data-anchor-id="special-cases">Special Casesâ€¦</h2>
<p>There are a few specific cases that you need to be careful with when dealing with the scalar product. These are:<br>
(a) When <span class="math inline">\(\mathbf{u}\)</span> and <span class="math inline">\(\mathbf{v}\)</span> are parallel. In this case, the angle between the vectors is 0. So, the dot product is the magnitudes multiplied, that is <span class="math display">\[\mathbf{u}\cdot\mathbf{v}=|\mathbf{u}||\mathbf{v}|\]</span> (b) When <span class="math inline">\(\mathbf{u}\)</span> and <span class="math inline">\(\mathbf{v}\)</span> are anti-parallel, then the dot product is negative the magnitudes multiplied, that is <span class="math display">\[\mathbf{u}\cdot\mathbf{v}=-|\mathbf{u}||\mathbf{v}|\]</span> (c) When either <span class="math inline">\(\mathbf{u}\)</span> or <span class="math inline">\(\mathbf{v}\)</span> is equal to <span class="math inline">\(0\)</span> (or both are), the dot product is equal to <span class="math inline">\(0\)</span>, that is <span class="math display">\[\mathbf{u}\cdot\mathbf{0}=\mathbf{0}\cdot\mathbf{v}=0\]</span> (d) Two vectors <span class="math inline">\(\mathbf{u}\)</span> and <span class="math inline">\(\mathbf{v}\)</span> are perpendicular if and only if their scalar product is equal to <span class="math inline">\(0\)</span>. This is because the angle between the two vectors is <span class="math inline">\(90^\circ\)</span> and as <span class="math inline">\(\cos(90)=0\)</span>, <span class="math display">\[\mathbf{u}\cdot\mathbf{v}=|\mathbf{u}||\mathbf{v}|\cos(90)=0\]</span>.</p>
</section>
<section id="the-scalar-product-of-perpendicular-vectors" class="level2">
<h2 class="anchored" data-anchor-id="the-scalar-product-of-perpendicular-vectors">The scalar product of perpendicular vectors</h2>
<p>As mentioned in the above result, the scalar product of two perpendicular vectors is <span class="math inline">\(0\)</span>. Given two vectors, you can use this fact to test whether they are perpendicular or not.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 9
</div>
</div>
<div class="callout-body-container callout-body">
<p>Take <span class="math inline">\(\mathbf{u}=\begin{pmatrix}3\\3\\4\end{pmatrix}\)</span> and <span class="math inline">\(\mathbf{v}=\begin{pmatrix}1\\3\\-3\end{pmatrix}\)</span>. Then, <span class="math display">\[\mathbf{u}\cdot\mathbf{v}=\begin{pmatrix}3\\3\\4\end{pmatrix}\cdot\begin{pmatrix}1\\3\\-3\end{pmatrix}=(3)(1)+(3)(3)-(4)(3)=0\]</span> So, <span class="math inline">\(\mathbf{u}\)</span> and <span class="math inline">\(\mathbf{v}\)</span> are indeed perpendicular.</p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 10
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let <span class="math inline">\(\mathbf{u}=\begin{pmatrix}2\\1\\\lambda\end{pmatrix}\)</span> and <span class="math inline">\(\mathbf{v}=\begin{pmatrix}5\\6\\1\end{pmatrix}\)</span>. You can find the value of <span class="math inline">\(\lambda\)</span> for which <span class="math inline">\(\mathbf{u}\)</span> and <span class="math inline">\(\mathbf{v}\)</span> are perpendicular as follows: <span class="math display">\[\mathbf{u}\cdot\mathbf{v}=\begin{pmatrix}2\\1\\\lambda\end{pmatrix}\cdot\begin{pmatrix}5\\6\\1\end{pmatrix}=(2)(5)+(1)(6)+(\lambda)(1)=10+6+\lambda=16+\lambda\]</span> As <span class="math inline">\(\mathbf{u}\)</span> and <span class="math inline">\(\mathbf{v}\)</span> are perpendicular, the scalar product is <span class="math inline">\(0\)</span>. So, <span class="math display">\[16+\lambda=0\]</span> Hence, <span class="math inline">\(\lambda=-16\)</span></p>
</div>
</div>
</section>
<section id="quick-check-problems" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="quick-check-problems">Quick check problems</h2>
<!-- add facility for webexercises to work on html -->
<!-- add facility to check answers at end rather than one at a time -->
<div class="webex-check webex-box">
<ol type="1">
<li>Using the algebraic definition, what is the scalar product of the vectors <span class="math inline">\(\mathbf{u}=\begin{pmatrix}1\\2\\-1\end{pmatrix}\)</span> and <span class="math inline">\(\mathbf{v}=\begin{pmatrix}2\\10\\15\end{pmatrix}\)</span>?</li>
</ol>
<p>Answer: The scalar product is equal to <input class="webex-solveme nospaces" size="1" data-answer="[&quot;7&quot;]">.</p>
<ol start="2" type="1">
<li>What is the scalar product of <span class="math inline">\(\mathbf{u}\begin{pmatrix}5\\7\\-13\end{pmatrix}\)</span> with itself?</li>
</ol>
<p>Answer: The scalar product is equal to the square of the magnitude of the vector. So, the scalar product is equal to <input class="webex-solveme nospaces" size="3" data-answer="[&quot;243&quot;]">.</p>
<ol start="3" type="1">
<li>What is the scalar product of <span class="math inline">\(\mathbf{v}=3\mathbf{i}+\mathbf{j}-\mathbf{k}\)</span> and <span class="math inline">\(\mathbf{u}=4\mathbf{i}+5\mathbf{j}+\mathbf{k}\)</span>?</li>
</ol>
<p>Answer: The scalar product is equal to <input class="webex-solveme nospaces" size="2" data-answer="[&quot;16&quot;]">.</p>
<ol start="4" type="1">
<li>Find the angle between the vectors <span class="math inline">\(\mathbf{u}=\begin{pmatrix}7\\-4\\11\end{pmatrix}\)</span> and <span class="math inline">\(\mathbf{v} =\begin{pmatrix}5\\2\\2\end{pmatrix}\)</span> to 2 significant figures.</li>
</ol>
<p>Answer: The angle is equal to <input class="webex-solveme nospaces" size="2" data-answer="[&quot;51&quot;]">.</p>
</div>
<p>[For more questions on the subject, please go to Questions: Scalar Product.]</p>


</section>

</main> <!-- /main -->
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);
  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  update_total_correct();
}

</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>